{% extends 'base.html' %}
{% load static %}

{% block title %}Market - EasyDAG{% endblock %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'css/market.css' %}">
{% endblock %}

  <script src="{% static 'js/auth-guard.js' %}"></script>
  <script async src="https://static.coinstats.app/widgets/coin-chart-widget.js"></script>
  <script async src="https://static.coinstats.app/widgets/coin-price-widget.js"></script>
  <script async src="https://static.coinstats.app/widgets/coin-calculator-widget.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>


{% block content %}
  <div style="display: flex; padding: 2rem; gap: 2rem;">

    <div style="flex: 1; max-width: 26vw; background: rgba(18,22,34,0.85); padding: 1.5rem; border-radius: 18px; box-shadow: 0 0 24px #0008;">
      <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1.5rem;">
        <div style="width: 56px; height: 56px; background: #222; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
          <span style="font-size: 1.3rem; font-weight: 600;">coin<br>BDA</span>
        </div>
        <h2 style="margin: 0; font-size: 1.5rem; font-weight: 700; display: flex; align-items: center; gap: 0.5rem;">
          Bitcoin
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 9l6 6 6-6" stroke="#fff" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </h2>
      </div>
        <coin-stats-ticker-widget coin-id="bitcoin" locale="en" currency="USD" background="#1C1B1B" text-color="#FFFFFF" border-color="rgba(255,255,255,0.15)" type="medium" font="Outfit, Arial, Helvetica" height="149" width="350" rank-background="#FFA959" status-up-color="#74D492" status-down-color="#FE4747" rank-text-color="#1C1B1B" ></coin-stats-ticker-widget>
      <div style="margin-top: 1.5rem;">
        <coin-stats-calculator-widget type="invest" date="2019-09-20" coin-id="8Zj3K1MnVWTVXh27xM9ARDoGwcBmCr5S4NDYYfix4Egd_solana" locale="en" currency="USD" is-editable="true" selection-color="#FFA959" text-color="#FFFFFF" background="#1C1B1B" border-color="rgba(255,255,255,0.15)" font="Roboto, Arial, Helvetica"></coin-stats-calculator-widget>
      </div>
    </div>

    <div style="flex: 2; background: rgba(18,22,34,0.9); padding: 2rem; border-radius: 24px; box-shadow: 0 0 32px #000a;">
      <h2 style="margin-bottom: 1.5rem; font-weight: 600; font-size: 1.8rem;">Live Market Chart</h2>
      <coin-stats-chart-widget 
      type="large" 
      coin-id="bitcoin" 
      width="650" 
      chart-height="300" 
      currency="USD" 
      locale="en" 
      bg-color="#1C1B1B" 
      text-color="#FFFFFF" 
      status-up-color="#74D492" 
      status-down-color="#FE4747" 
      buttons-color="#1C1B1B" 
      chart-color="#FFA959" 
      chart-gradient-from="rgba(255,255,255,0.07)" 
      chart-gradient-to="rgba(0,0,0,0)" 
      chart-label-background="#000000" 
      candle-grids-color="rgba(255,255,255,0.1)" 
      border-color="rgba(255,255,255,0.15)" 
      font="Outfit, Arial, Helvetica" 
      btc-color="#6DD400" 
      eth-color="#67B5FF">
    </coin-stats-chart-widget>
    </div>
  </div>

<div style="margin: 2rem auto; background: rgba(18,22,34,0.9); padding: 2rem; border-radius: 20px; width: 400px; box-shadow: 0 0 24px #000a;">
  <h2 style="margin-bottom: 1rem; font-size: 1.6rem; font-weight: 600; color: #fff;">Buy Bitcoin Tokens</h2>
  <div style="display: flex; flex-direction: column; gap: 1rem;">
    <input
      id="buyAmount"
      type="number"
      placeholder="Enter ETH amount"
      style="padding: 12px 16px; font-size: 1rem; border: none; border-radius: 12px; background: #1f2433; color: #fff; outline: none; box-shadow: inset 0 0 0 2px #2f3646;">
    
    <button
      onclick="buyBDAG()"
      style="padding: 12px 16px; font-size: 1rem; font-weight: 600; border: none; border-radius: 12px; background: linear-gradient(to right, #7fffcf, #ffa959); color: #121622; cursor: pointer; transition: background 0.2s ease;">
      <i class="fas fa-coins" style="margin-right: 8px;"></i> Buy BDAG
    </button>
  </div>
</div>
{% endblock %}

{% block scripts %}
  <script>requireAuth()</script> 
  <script src="{% static 'js/auth-guard.js' %}"></script>
  <script async src="https://static.coinstats.app/widgets/coin-chart-widget.js"></script>
  <script async src="https://static.coinstats.app/widgets/coin-price-widget.js"></script>
  <script async src="https://static.coinstats.app/widgets/coin-calculator-widget.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.10.0/dist/web3.min.js"></script>
  <script src="{% static 'js/transaction.js' %}"></script>
{% endblock %}

</body>
</html>
